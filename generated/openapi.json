{"openapi":"3.0.2","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/register_buckets":{"post":{"summary":"Register Buckets","operationId":"register_buckets","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterBucketRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/start_create_bucket":{"post":{"summary":"Start Create Bucket","operationId":"start_create_bucket","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBucketRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBucketResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/complete_create_bucket":{"patch":{"summary":"Complete Create Bucket","operationId":"complete_create_bucket","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBucketIsCompleted"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/start_delete_bucket":{"post":{"summary":"Start Delete Bucket","operationId":"start_delete_bucket","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteBucketRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteBucketResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/complete_delete_bucket":{"patch":{"summary":"Complete Delete Bucket","operationId":"complete_delete_bucket","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteBucketIsCompleted"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/start_delete_objects":{"post":{"summary":"Start Delete Objects","operationId":"start_delete_objects","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteObjectsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteObjectsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/complete_delete_objects":{"patch":{"summary":"Complete Delete Objects","operationId":"complete_delete_objects","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteObjectsIsCompleted"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/head_bucket":{"post":{"summary":"Head Bucket","operationId":"head_bucket","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HeadBucketRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/locate_bucket":{"post":{"summary":"Locate Bucket","description":"Given the bucket name, return one or zero physical bucket locators.","operationId":"locate_bucket","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocateBucketRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocateBucketResponse"}}}},"404":{"description":"Bucket not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/locate_physical_object":{"post":{"summary":"Locate Local Pending Object","description":"Given the logical object information, return whether there is an object in the local region.","operationId":"locate_local_pending_object","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocateObjectRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Locate Local Pending Object Locate Physical Object Post","type":"integer"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/locate_object":{"post":{"summary":"Locate Object","description":"Given the logical object information, return one or zero physical object locators.","operationId":"locate_object","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocateObjectRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocateObjectResponse"}}}},"404":{"description":"Object not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/start_warmup":{"post":{"summary":"Start Warmup","description":"Given the logical object information and warmup regions, return one or zero physical object locators.","operationId":"start_warmup","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartWarmupRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartWarmupResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/start_upload":{"post":{"summary":"Start Upload","operationId":"start_upload","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartUploadRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/complete_upload":{"patch":{"summary":"Complete Upload","operationId":"complete_upload","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatchUploadIsCompleted"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/set_multipart_id":{"patch":{"summary":"Set Multipart Id","operationId":"set_multipart_id","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatchUploadMultipartUploadId"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/append_part":{"patch":{"summary":"Append Part","operationId":"append_part","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatchUploadMultipartUploadPart"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/continue_upload":{"post":{"summary":"Continue Upload","operationId":"continue_upload","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContinueUploadRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Continue Upload Continue Upload Post","type":"array","items":{"$ref":"#/components/schemas/ContinueUploadResponse"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/list_buckets":{"post":{"summary":"List Buckets","operationId":"list_buckets","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response List Buckets List Buckets Post","type":"array","items":{"$ref":"#/components/schemas/BucketResponse"}}}}}}}},"/list_objects":{"post":{"summary":"List Objects","operationId":"list_objects","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListObjectRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response List Objects List Objects Post","type":"array","items":{"$ref":"#/components/schemas/ObjectResponse"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/head_object":{"post":{"summary":"Head Object","operationId":"head_object","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HeadObjectRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HeadObjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/list_multipart_uploads":{"post":{"summary":"List Multipart Uploads","operationId":"list_multipart_uploads","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListObjectRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response List Multipart Uploads List Multipart Uploads Post","type":"array","items":{"$ref":"#/components/schemas/MultipartResponse"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/list_parts":{"post":{"summary":"List Parts","operationId":"list_parts","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListPartsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response List Parts List Parts Post","type":"array","items":{"$ref":"#/components/schemas/LogicalPartResponse"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/healthz":{"get":{"summary":"Healthz","operationId":"healthz","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthcheckResponse"}}}}}}}},"components":{"schemas":{"BucketResponse":{"title":"BucketResponse","required":["bucket","creation_date"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"},"creation_date":{"title":"Creation Date","type":"string","format":"date-time"}}},"Configuration":{"title":"Configuration","type":"object","properties":{"bucket_name":{"title":"Bucket Name","type":"string","default":"default-skybucket"},"physical_locations":{"title":"Physical Locations","type":"array","items":{"$ref":"#/components/schemas/PhysicalLocation"}}}},"ContinueUploadPhysicalPart":{"title":"ContinueUploadPhysicalPart","required":["part_number","etag"],"type":"object","properties":{"part_number":{"title":"Part Number","type":"integer"},"etag":{"title":"Etag","type":"string"}}},"ContinueUploadRequest":{"title":"ContinueUploadRequest","required":["bucket","key","client_from_region","multipart_upload_id"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"},"key":{"title":"Key","type":"string"},"client_from_region":{"title":"Client From Region","type":"string"},"multipart_upload_id":{"title":"Multipart Upload Id","type":"string"},"do_list_parts":{"title":"Do List Parts","type":"boolean","default":false},"copy_src_bucket":{"title":"Copy Src Bucket","type":"string"},"copy_src_key":{"title":"Copy Src Key","type":"string"}}},"ContinueUploadResponse":{"title":"ContinueUploadResponse","required":["id","tag","cloud","bucket","region","key","multipart_upload_id"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"tag":{"title":"Tag","type":"string"},"cloud":{"title":"Cloud","type":"string"},"bucket":{"title":"Bucket","type":"string"},"region":{"title":"Region","type":"string"},"key":{"title":"Key","type":"string"},"size":{"title":"Size","minimum":0.0,"type":"integer","format":"int64"},"last_modified":{"title":"Last Modified","type":"string","format":"date-time"},"etag":{"title":"Etag","type":"string"},"multipart_upload_id":{"title":"Multipart Upload Id","type":"string"},"parts":{"title":"Parts","type":"array","items":{"$ref":"#/components/schemas/ContinueUploadPhysicalPart"}},"copy_src_bucket":{"title":"Copy Src Bucket","type":"string"},"copy_src_key":{"title":"Copy Src Key","type":"string"}}},"CreateBucketIsCompleted":{"title":"CreateBucketIsCompleted","required":["id","creation_date"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"creation_date":{"title":"Creation Date","type":"string","format":"date-time"}}},"CreateBucketRequest":{"title":"CreateBucketRequest","required":["bucket","client_from_region"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"},"client_from_region":{"title":"Client From Region","type":"string"},"warmup_regions":{"title":"Warmup Regions","type":"array","items":{"type":"string"}}}},"CreateBucketResponse":{"title":"CreateBucketResponse","required":["locators"],"type":"object","properties":{"locators":{"title":"Locators","type":"array","items":{"$ref":"#/components/schemas/LocateBucketResponse"}}}},"DeleteBucketIsCompleted":{"title":"DeleteBucketIsCompleted","required":["id"],"type":"object","properties":{"id":{"title":"Id","type":"integer"}}},"DeleteBucketRequest":{"title":"DeleteBucketRequest","required":["bucket"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"}}},"DeleteBucketResponse":{"title":"DeleteBucketResponse","required":["locators"],"type":"object","properties":{"locators":{"title":"Locators","type":"array","items":{"$ref":"#/components/schemas/LocateBucketResponse"}}}},"DeleteObjectsIsCompleted":{"title":"DeleteObjectsIsCompleted","required":["ids"],"type":"object","properties":{"ids":{"title":"Ids","type":"array","items":{"type":"integer"}},"multipart_upload_ids":{"title":"Multipart Upload Ids","type":"array","items":{"type":"string"}}}},"DeleteObjectsRequest":{"title":"DeleteObjectsRequest","required":["bucket","keys"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"},"keys":{"title":"Keys","type":"array","items":{"type":"string"}},"multipart_upload_ids":{"title":"Multipart Upload Ids","type":"array","items":{"type":"string"}}}},"DeleteObjectsResponse":{"title":"DeleteObjectsResponse","required":["locators"],"type":"object","properties":{"locators":{"title":"Locators","type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/LocateObjectResponse"}}}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"HeadBucketRequest":{"title":"HeadBucketRequest","required":["bucket"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"}}},"HeadObjectRequest":{"title":"HeadObjectRequest","required":["bucket","key"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"},"key":{"title":"Key","type":"string"}}},"HeadObjectResponse":{"title":"HeadObjectResponse","required":["bucket","key","size","etag","last_modified"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"},"key":{"title":"Key","type":"string"},"size":{"title":"Size","minimum":0.0,"type":"integer","format":"int64"},"etag":{"title":"Etag","type":"string"},"last_modified":{"title":"Last Modified","type":"string","format":"date-time"}}},"HealthcheckResponse":{"title":"HealthcheckResponse","required":["status"],"type":"object","properties":{"status":{"title":"Status","enum":["OK"],"type":"string"}}},"ListObjectRequest":{"title":"ListObjectRequest","required":["bucket"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"},"prefix":{"title":"Prefix","type":"string"},"start_after":{"title":"Start After","type":"string"},"max_keys":{"title":"Max Keys","type":"integer"}}},"ListPartsRequest":{"title":"ListPartsRequest","required":["bucket","key","upload_id"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"},"key":{"title":"Key","type":"string"},"upload_id":{"title":"Upload Id","type":"string"},"part_number":{"title":"Part Number","type":"integer"}}},"LocateBucketRequest":{"title":"LocateBucketRequest","required":["bucket","client_from_region"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"},"client_from_region":{"title":"Client From Region","type":"string"}}},"LocateBucketResponse":{"title":"LocateBucketResponse","required":["id","tag","cloud","bucket","region"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"tag":{"title":"Tag","type":"string"},"cloud":{"title":"Cloud","type":"string"},"bucket":{"title":"Bucket","type":"string"},"region":{"title":"Region","type":"string"}}},"LocateObjectRequest":{"title":"LocateObjectRequest","required":["bucket","key","client_from_region"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"},"key":{"title":"Key","type":"string"},"client_from_region":{"title":"Client From Region","type":"string"}}},"LocateObjectResponse":{"title":"LocateObjectResponse","required":["id","tag","cloud","bucket","region","key"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"tag":{"title":"Tag","type":"string"},"cloud":{"title":"Cloud","type":"string"},"bucket":{"title":"Bucket","type":"string"},"region":{"title":"Region","type":"string"},"key":{"title":"Key","type":"string"},"size":{"title":"Size","minimum":0.0,"type":"integer","format":"int64"},"last_modified":{"title":"Last Modified","type":"string","format":"date-time"},"etag":{"title":"Etag","type":"string"},"multipart_upload_id":{"title":"Multipart Upload Id","type":"string"}}},"LogicalPartResponse":{"title":"LogicalPartResponse","required":["part_number","etag","size"],"type":"object","properties":{"part_number":{"title":"Part Number","type":"integer"},"etag":{"title":"Etag","type":"string"},"size":{"title":"Size","minimum":0.0,"type":"integer","format":"int64"}}},"MultipartResponse":{"title":"MultipartResponse","required":["bucket","key","upload_id"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"},"key":{"title":"Key","type":"string"},"upload_id":{"title":"Upload Id","type":"string"}}},"ObjectResponse":{"title":"ObjectResponse","required":["bucket","key","size","etag","last_modified"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"},"key":{"title":"Key","type":"string"},"size":{"title":"Size","minimum":0.0,"type":"integer","format":"int64"},"etag":{"title":"Etag","type":"string"},"last_modified":{"title":"Last Modified","type":"string","format":"date-time"}}},"PatchUploadIsCompleted":{"title":"PatchUploadIsCompleted","required":["id","size","etag","last_modified"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"size":{"title":"Size","minimum":0.0,"type":"integer","format":"int64"},"etag":{"title":"Etag","type":"string"},"last_modified":{"title":"Last Modified","type":"string","format":"date-time"}}},"PatchUploadMultipartUploadId":{"title":"PatchUploadMultipartUploadId","required":["id","multipart_upload_id"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"multipart_upload_id":{"title":"Multipart Upload Id","type":"string"}}},"PatchUploadMultipartUploadPart":{"title":"PatchUploadMultipartUploadPart","required":["id","part_number","etag","size"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"part_number":{"title":"Part Number","type":"integer"},"etag":{"title":"Etag","type":"string"},"size":{"title":"Size","minimum":0.0,"type":"integer","format":"int64"}}},"PhysicalLocation":{"title":"PhysicalLocation","required":["name","cloud","region","bucket"],"type":"object","properties":{"name":{"title":"Name","type":"string"},"cloud":{"title":"Cloud","type":"string"},"region":{"title":"Region","type":"string"},"bucket":{"title":"Bucket","type":"string"},"prefix":{"title":"Prefix","type":"string","default":""},"is_primary":{"title":"Is Primary","type":"boolean","default":false},"need_warmup":{"title":"Need Warmup","type":"boolean","default":false}}},"RegisterBucketRequest":{"title":"RegisterBucketRequest","required":["bucket","config"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"},"config":{"$ref":"#/components/schemas/Configuration"}}},"StartUploadRequest":{"title":"StartUploadRequest","required":["bucket","key","client_from_region","is_multipart"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"},"key":{"title":"Key","type":"string"},"client_from_region":{"title":"Client From Region","type":"string"},"is_multipart":{"title":"Is Multipart","type":"boolean"},"copy_src_bucket":{"title":"Copy Src Bucket","type":"string"},"copy_src_key":{"title":"Copy Src Key","type":"string"}}},"StartUploadResponse":{"title":"StartUploadResponse","required":["locators","copy_src_buckets","copy_src_keys"],"type":"object","properties":{"locators":{"title":"Locators","type":"array","items":{"$ref":"#/components/schemas/LocateObjectResponse"}},"multipart_upload_id":{"title":"Multipart Upload Id","type":"string"},"copy_src_buckets":{"title":"Copy Src Buckets","type":"array","items":{"type":"string"}},"copy_src_keys":{"title":"Copy Src Keys","type":"array","items":{"type":"string"}}}},"StartWarmupRequest":{"title":"StartWarmupRequest","required":["bucket","key","client_from_region","warmup_regions"],"type":"object","properties":{"bucket":{"title":"Bucket","type":"string"},"key":{"title":"Key","type":"string"},"client_from_region":{"title":"Client From Region","type":"string"},"warmup_regions":{"title":"Warmup Regions","type":"array","items":{"type":"string"}}}},"StartWarmupResponse":{"title":"StartWarmupResponse","required":["src_locator","dst_locators"],"type":"object","properties":{"src_locator":{"$ref":"#/components/schemas/LocateObjectResponse"},"dst_locators":{"title":"Dst Locators","type":"array","items":{"$ref":"#/components/schemas/LocateObjectResponse"}}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}}}